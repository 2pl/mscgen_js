<svg height="795" width="674" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="svg_output" version="1.1"><desc id="msc_source"># Generated by mscgen_js http://sverweij.github.io/mscgen_js
msc {
  # options
  hscale="1.0" /*, width=600 */,arcgradient="8";

  # entities
  a [label="entity a", textbgcolor="pink"],
  b [textbgcolor="violet"],
  "entity c" [textbgcolor="purple",
              textcolor="yellow",
              linecolor="violet",
              arclinecolor="orange",
              arctextcolor="yellow",
              arctextbgcolor="purple"],
  d [textbgcolor="black", textcolor="white"];

  # arcs
  a =&gt;&gt; b [label="do magic",
           textcolor="cyan",
           textbgcolor="blue"];
  b -&gt; "entity c" [label="doMagic()"];  

  "entity c" &gt;&gt; b[label="same line as response, note"],
  b &gt;&gt; a [label="response",
          linecolor="green",
          textcolor="green"],
  d note d [label="note with a link",
            url="https://github.com/sverweij/mscgen_js"];
  b :&gt; "entity c" [label="with emphasis"];
  "entity c" :&gt; "entity c"
      [label="emph selfie with arcskip", arcskip="2"];
  ... [label="More magic stuff will be happening here",
       textcolor="red", textbgcolor="gold"];
  |||;

  --- [label="When a signal appears to be lost, a calls d",
       id="*", textcolor="red", linecolor="red"];
  a-xb [label="lost:-/", linecolor="red", textcolor="blue"];
  a=&gt;d[label="log this"];
  d =&gt;&gt; d [label="self reference",
           textbgcolor="red",
           textcolor="white",
           linecolor="green"];
  d &gt;&gt;a[label="this message skips an arc", arcskip="1"];
  |||;
  ---[label="Note tests",
      textcolor="green",
      linecolor="green"];
  "entity c" note "entity c" [label="conference!"],
  "entity c" &lt;&lt;=&gt;&gt; d,
  "entity c" &lt;-&gt; b;
  a box a  [label="Black box example",
            textcolor="red",
            textbgcolor="black",
            linecolor="yellow"],
  b rbox b [label="This is an 'rbox' example",
            textbgcolor="cyan"],
  "entity c" abox "entity c" [label="This is an 'abox'",
                              textcolor="white",
                              textbgcolor="brown",
                              linecolor="orange"],
  d note d [label="Example of a note",
            linecolor="green",
            textcolor="green",
            textbgcolor="#0F0"];
  |||;
  ---[label="broadcast tests",
      textcolor="purple", linecolor="brown"];
  * &lt;&lt;= b [label="This is a broadcast message",
           linecolor="fuchsia"];
  "entity c" -x *
          [label="Broadcast, but lost to everyone :-(",
           textcolor="red", linecolor="red"];
  "entity c" :&gt; *
          [label="emphasised broadcast. No color"];
  ...; # it goes on and on and on ...
}
/*
    This file is part of mscgen_js.

    mscgen_js is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    mscgen_js is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with mscgen_js.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
*/
</desc><defs><style type="text/css">svg {     font-family: Helvetica, sans-serif;     font-size: 9pt;     background-color: white;     stroke : black;     color  : black; } rect {     fill: none;     stroke: black;     stroke-width: 2; } .bglayer {     fill:white;     stroke: white;     stroke-width: 0; } rect.textbg {     fill:white;     stroke:white;     stroke-width:0; } line {     stroke: black;     stroke-width: 2; } .arcrowomit {     stroke-dasharray: 2,2; } text {     color: inherit;     stroke: inherit;     text-anchor: middle;     stroke-width:0.1; /* makes font seem more crisp */ } text.entity {     text-decoration : underline; } text.anchor-start {     text-anchor: start; } path {     stroke : black;     stroke-width : 2;     fill : none; } .dotted {     stroke-dasharray: 5,2; } .arrow-marker {     overflow:visible; } .arrow-style { 	stroke : black;     stroke-dasharray : 100,1; /* 'none' should work, but doesn't in webkit */     stroke-width : 1; } .filled {     stroke:inherit;     fill:black; /* no-inherit */ } .signal {     marker-end : url(#signal); } .signal-both {     marker-end : url(#signal);     marker-start : url(#signal-l); } .method {     marker-end : url(#method); } .method-both {     marker-end : url(#method);     marker-start : url(#method-l); } .returnvalue {     stroke-dasharray: 5,2;     marker-end : url(#callback); } .returnvalue-both {     stroke-dasharray: 5,2;     marker-end : url(#callback);     marker-start : url(#callback-l); } .callback {     marker-end : url(#callback); } .callback-both {     marker-end : url(#callback);     marker-start : url(#callback-l); } .emphasised {     marker-end : url(#method); } .emphasised-both {     marker-end : url(#method);     marker-start : url(#method-l); } .lost {     marker-end : url(#lost); } .arcrowomit {     stroke-dasharray: 2,2; } .box {     /* fill: #ffc;  no-inherit */     fill : white;     opacity: 0.9; } .boxtext, .arctext {     font-size: 0.8em;     text-anchor: middle; } .comment {     stroke-dasharray: 5,2; }</style><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="signal" orient="auto"><path class="arrow-style" d="M 9 3 l -8 2"></path></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="signal-l" orient="auto"><path class="arrow-style" d="M 9 3 l 8 2"></path></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="method" orient="auto"><polygon class="filled arrow-style" points="1,1 9,3 1,5"></polygon></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="method-l" orient="auto"><polygon class="filled arrow-style" points="17,1 9,3 17,5"></polygon></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="callback" orient="auto"><path class="arrow-style" d="M 1 1 l 8 2 l -8 2"></path></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="callback-l" orient="auto"><path class="arrow-style" d="M 17 1 l -8 2 l 8 2"></path></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="lost" orient="auto"><path class="arrow-style" d="M6.5,-0.5 L11.5,5.5 M6.5,5.5 L11.5,-0.5"></path></marker><g id="defs"><g id="a"><rect style="fill:pink;" height="30" width="100"></rect><g id="a_txt"><rect style="fill: pink; stroke:pink;" class="textbg" y="11" x="27.2" height="12" width="45.6"></rect><text class="entity" y="20" x="50"><tspan>entity a</tspan></text></g></g><g id="b"><rect style="fill:violet;" height="30" width="100"></rect><g id="b_txt"><rect style="fill: violet; stroke:violet;" class="textbg" y="11" x="47.15" height="12" width="5.7"></rect><text class="entity" y="20" x="50"><tspan>b</tspan></text></g></g><g id="entity c"><rect style="fill:purple;stroke:violet;" height="30" width="100"></rect><g id="entity c_txt"><rect style="fill: purple; stroke:purple;" class="textbg" y="11" x="27.2" height="12" width="45.6"></rect><text style="fill:yellow;stroke:yellow;" class="entity" y="20" x="50"><tspan>entity c</tspan></text></g></g><g id="d"><rect style="fill:black;" height="30" width="100"></rect><g id="d_txt"><rect style="fill: black; stroke:black;" class="textbg" y="11" x="47.15" height="12" width="5.7"></rect><text style="fill:white;stroke:white;" class="entity" y="20" x="50"><tspan>d</tspan></text></g></g><g id="arcrow"><line class="arcrow" y2="16.5" x2="50" y1="-16.5" x1="50"></line><line class="arcrow" y2="16.5" x2="210" y1="-16.5" x1="210"></line><line style="stroke : violet;" class="arcrow" y2="16.5" x2="370" y1="-16.5" x1="370"></line><line class="arcrow" y2="16.5" x2="530" y1="-16.5" x1="530"></line></g><g id="arcrowomit"><line class="arcrowomit" y2="16.5" x2="50" y1="-16.5" x1="50"></line><line class="arcrowomit" y2="16.5" x2="210" y1="-16.5" x1="210"></line><line style="stroke : violet;" class="arcrowomit" y2="16.5" x2="370" y1="-16.5" x1="370"></line><line class="arcrowomit" y2="16.5" x2="530" y1="-16.5" x1="530"></line></g><g id="0_0"><g id="0_0_txt"><rect style="fill: blue; stroke:blue;" class="textbg" y="-12" x="107.2" height="12" width="45.6"></rect><text style="fill:cyan;stroke:cyan;" y="-3" x="130"><tspan>do magic</tspan></text></g><line class="callback" y2="8" x2="210" y1="0" x1="50"></line></g><g id="1_0"><g id="1_0_txt"><rect class="textbg" y="-12" x="264.35" height="12" width="51.300000000000004"></rect><text y="-3" x="290"><tspan>doMagic()</tspan></text></g><line class="signal" y2="8" x2="370" y1="0" x1="210"></line></g><g id="2_0"><g id="2_0_txt"><rect style="fill: purple; stroke:purple;" class="textbg" y="-12" x="213.05" height="12" width="153.9"></rect><text style="fill:yellow;stroke:yellow;" y="-3" x="290"><tspan>same line as response, note</tspan></text></g><line style="stroke: orange;" class="returnvalue" y2="8" x2="210" y1="0" x1="370"></line></g><g id="2_1"><g id="2_1_txt"><rect class="textbg" y="-12" x="107.2" height="12" width="45.6"></rect><text style="fill:green;stroke:green;" y="-3" x="130"><tspan>response</tspan></text></g><line style="stroke: green;" class="returnvalue" y2="8" x2="50" y1="0" x1="210"></line></g><g id="2_2"><path style="" class="box" d="M452,-14.5l147,0 l0,9 l9,0 m-9,-9 l9,9 l0,20 l-156,0 l0,-29 "></path><g id="2_2_txt"><rect class="textbg" y="-6" x="484.4" height="12" width="91.2"></rect><text style="fill:blue;stroke:blue;" y="3" x="530"><a xlink:show="new" xlink:title="https://github.com/sverweij/mscgen_js" xlink:href="https://github.com/sverweij/mscgen_js"><tspan>note with a link</tspan></a></text></g></g><g id="3_0"><g id="3_0_txt"><rect class="textbg" y="-12" x="252.95" height="12" width="74.10000000000001"></rect><text y="-3" x="290"><tspan>with emphasis</tspan></text></g><path class="emphasised" d="M210,0l1,0.05M210,-2 l160,8M210,2 l160,8M369,8l1,0.05"></path></g><g id="4_0"><g id="4_0_txt"><rect style="fill: purple; stroke:purple;" class="textbg" y="-18.6" x="372" height="12" width="136.8"></rect><text style="fill:yellow;stroke:yellow;" class="anchor-start" y="-9.6" x="372"><tspan>emph selfie with arcskip</tspan></text></g><g style="stroke: orange;" id="selfie"><path class="none" d="M370, -4.6 l49.333333333333336,0 l0,77.2 l-49.333333333333336,0"></path><path class="emphasised" d="M370, -8.6 l53.333333333333336,0 l0,85.2 l-53.333333333333336,0"></path></g></g><g id="5_0"><g id="5_0"><rect style="fill: gold; stroke:gold;" class="textbg" y="-6" x="178.85" height="12" width="222.3"></rect><text style="fill:red;stroke:red;" y="3" x="290"><tspan>More magic stuff will be happening here</tspan></text></g></g><g id="6_0"><g id="6_0"></g></g><g id="7_0"><line style="stroke: red;" class="dotted" y2="0" x2="580" y1="0" x1="0"></line><g id="7_0_txt"><g id="7_0_txt"><rect class="textbg" y="-6" x="167.45" height="12" width="245.1"></rect><text style="fill:red;stroke:red;" y="3" x="290"><tspan>When a signal appears to be lost, a calls d</tspan><tspan style="vertical-align : text-top;font-size: 0.7em; text-anchor: start;"> [*]</tspan></text></g></g></g><g id="8_0"><g id="8_0_txt"><rect class="textbg" y="-12" x="90.05" height="12" width="39.9"></rect><text style="fill:blue;stroke:blue;" y="-3" x="110"><tspan>lost:-/</tspan></text></g><line style="stroke: red;" class="lost" y2="8" x2="170" y1="0" x1="50"></line></g><g id="9_0"><g id="9_0_txt"><rect class="textbg" y="-12" x="267.2" height="12" width="45.6"></rect><text y="-3" x="290"><tspan>log this</tspan></text></g><line class="method" y2="8" x2="530" y1="0" x1="50"></line></g><g id="10_0"><g id="10_0_txt"><rect style="fill: red; stroke:red;" class="textbg" y="-18.6" x="532" height="12" width="79.8"></rect><text style="fill:white;stroke:white;" class="anchor-start" y="-9.6" x="532"><tspan>self reference</tspan></text></g><g style="stroke: green;" id="selfie"><path class="callback" d="M530, -6.6 l53.333333333333336,0 l0,13.2 l-53.333333333333336,0"></path></g></g><g id="11_0"><g id="11_0_txt"><rect class="textbg" y="-12" x="218.75" height="12" width="142.5"></rect><text y="-3" x="290"><tspan>this message skips an arc</tspan></text></g><line class="returnvalue" y2="33" x2="50" y1="0" x1="530"></line></g><g id="12_0"><g id="12_0"></g></g><g id="13_0"><line style="stroke: green;" class="dotted" y2="0" x2="580" y1="0" x1="0"></line><g id="13_0_txt"><g id="13_0_txt"><rect class="textbg" y="-6" x="261.5" height="12" width="57"></rect><text style="fill:green;stroke:green;" y="3" x="290"><tspan>Note tests</tspan></text></g></g></g><g id="14_0"><path style="" class="box" d="M292,-14.5l147,0 l0,9 l9,0 m-9,-9 l9,9 l0,20 l-156,0 l0,-29 "></path><g id="14_0_txt"><rect class="textbg" y="-6" x="338.65" height="12" width="62.7"></rect><text y="3" x="370"><tspan>conference!</tspan></text></g></g><g id="14_1"><g id="14_1_txt"></g><line style="stroke: orange;" class="callback-both" y2="8" x2="530" y1="0" x1="370"></line></g><g id="14_2"><g id="14_2_txt"></g><line style="stroke: orange;" class="signal-both" y2="8" x2="210" y1="0" x1="370"></line></g><g id="15_0"><rect style="fill:black;stroke:yellow;" class="box" y="-14.5" x="-28" height="29" width="156"></rect><g id="15_0_txt"><rect style="fill: black; stroke:black;" class="textbg" y="-6" x="1.5499999999999972" height="12" width="96.9"></rect><text style="fill:red;stroke:red;" y="3" x="50"><tspan>Black box example</tspan></text></g></g><g id="15_1"><rect style="fill:cyan;" class="box" ry="6" rx="6" y="-14.5" x="132" height="29" width="156"></rect><g id="15_1_txt"><rect style="fill: cyan; stroke:cyan;" class="textbg" y="-6" x="138.75" height="12" width="142.5"></rect><text y="3" x="210"><tspan>This is an 'rbox' example</tspan></text></g></g><g id="15_2"><path style="fill:brown;stroke:orange;" class="box" d="M292,0l3, -14.5l150,0l3,14.5l-3,14.5l-150,0 l-3,-14.5"></path><g id="15_2_txt"><rect style="fill: brown; stroke:brown;" class="textbg" y="-6" x="321.55" height="12" width="96.9"></rect><text style="fill:white;stroke:white;" y="3" x="370"><tspan>This is an 'abox'</tspan></text></g></g><g id="15_3"><path style="fill:#0F0;stroke:green;" class="box" d="M452,-14.5l147,0 l0,9 l9,0 m-9,-9 l9,9 l0,20 l-156,0 l0,-29 "></path><g id="15_3_txt"><rect style="fill: #0F0; stroke:#0F0;" class="textbg" y="-6" x="481.55" height="12" width="96.9"></rect><text style="fill:green;stroke:green;" y="3" x="530"><tspan>Example of a note</tspan></text></g></g><g id="16_0"><g id="16_0"></g></g><g id="17_0"><line style="stroke: brown;" class="dotted" y2="0" x2="580" y1="0" x1="0"></line><g id="17_0_txt"><g id="17_0_txt"><rect class="textbg" y="-6" x="247.25" height="12" width="85.5"></rect><text style="fill:purple;stroke:purple;" y="3" x="290"><tspan>broadcast tests</tspan></text></g></g></g><g id="18_0bc0"><g id="18_0bc0_txt"></g><line style="stroke: fuchsia;" class="callback" y2="8" x2="50" y1="0" x1="210"></line></g><g id="18_0bc2"><g id="18_0bc2_txt"></g><line style="stroke: fuchsia;" class="callback" y2="8" x2="370" y1="0" x1="210"></line></g><g id="18_0bc3"><g id="18_0bc3_txt"></g><line style="stroke: fuchsia;" class="callback" y2="8" x2="530" y1="0" x1="210"></line></g><g id="19_0bc0"><g id="19_0bc0_txt"></g><line style="stroke: red;" class="lost" y2="8" x2="130" y1="0" x1="370"></line></g><g id="19_0bc1"><g id="19_0bc1_txt"></g><line style="stroke: red;" class="lost" y2="8" x2="250" y1="0" x1="370"></line></g><g id="19_0bc3"><g id="19_0bc3_txt"></g><line style="stroke: red;" class="lost" y2="8" x2="490" y1="0" x1="370"></line></g><g id="20_0bc0"><g id="20_0bc0_txt"></g><path style="stroke: orange;" class="emphasised" d="M370,0l-1,0.025M370,-2 l-320,8M370,2 l-320,8M51,8l-1,0.025"></path></g><g id="20_0bc1"><g id="20_0bc1_txt"></g><path style="stroke: orange;" class="emphasised" d="M370,0l-1,0.05M370,-2 l-160,8M370,2 l-160,8M211,8l-1,0.05"></path></g><g id="20_0bc3"><g id="20_0bc3_txt"></g><path style="stroke: orange;" class="emphasised" d="M370,0l1,0.05M370,-2 l160,8M370,2 l160,8M529,8l1,0.05"></path></g><g id="21_0"><g id="21_0"></g></g></g></defs><g transform="translate(43,3)" id="body"><g id="__background"><rect class="bglayer" y="-3" x="-43" height="795" width="674"></rect></g><g id="sequence"><use xlink:href="#a" y="0" x="0"></use><use xlink:href="#b" y="0" x="160"></use><use xlink:href="#entity c" y="0" x="320"></use><use xlink:href="#d" y="0" x="480"></use><use xlink:href="#arcrow" y="46.5" x="0"></use><use xlink:href="#arcrow" y="79.5" x="0"></use><use xlink:href="#0_0" y="79.5" x="0"></use><use xlink:href="#arcrow" y="112.5" x="0"></use><use xlink:href="#1_0" y="112.5" x="0"></use><use xlink:href="#arcrow" y="145.5" x="0"></use><use xlink:href="#2_0" y="145.5" x="0"></use><use xlink:href="#arcrow" y="145.5" x="0"></use><use xlink:href="#2_1" y="145.5" x="0"></use><use xlink:href="#arcrow" y="145.5" x="0"></use><use xlink:href="#arcrow" y="178.5" x="0"></use><use xlink:href="#3_0" y="178.5" x="0"></use><use xlink:href="#arcrow" y="211.5" x="0"></use><use xlink:href="#4_0" y="211.5" x="0"></use><use xlink:href="#arcrowomit" y="244.5" x="0"></use><use xlink:href="#5_0" y="244.5" x="0"></use><use xlink:href="#arcrow" y="277.5" x="0"></use><use xlink:href="#6_0" y="277.5" x="0"></use><use xlink:href="#arcrow" y="310.5" x="0"></use><use xlink:href="#7_0" y="310.5" x="0"></use><use xlink:href="#arcrow" y="343.5" x="0"></use><use xlink:href="#8_0" y="343.5" x="0"></use><use xlink:href="#arcrow" y="376.5" x="0"></use><use xlink:href="#9_0" y="376.5" x="0"></use><use xlink:href="#arcrow" y="409.5" x="0"></use><use xlink:href="#10_0" y="409.5" x="0"></use><use xlink:href="#arcrow" y="442.5" x="0"></use><use xlink:href="#11_0" y="442.5" x="0"></use><use xlink:href="#arcrow" y="475.5" x="0"></use><use xlink:href="#12_0" y="475.5" x="0"></use><use xlink:href="#arcrow" y="508.5" x="0"></use><use xlink:href="#13_0" y="508.5" x="0"></use><use xlink:href="#arcrow" y="541.5" x="0"></use><use xlink:href="#arcrow" y="541.5" x="0"></use><use xlink:href="#14_1" y="541.5" x="0"></use><use xlink:href="#arcrow" y="541.5" x="0"></use><use xlink:href="#14_2" y="541.5" x="0"></use><use xlink:href="#arcrow" y="574.5" x="0"></use><use xlink:href="#arcrow" y="574.5" x="0"></use><use xlink:href="#arcrow" y="574.5" x="0"></use><use xlink:href="#arcrow" y="574.5" x="0"></use><use xlink:href="#arcrow" y="607.5" x="0"></use><use xlink:href="#16_0" y="607.5" x="0"></use><use xlink:href="#arcrow" y="640.5" x="0"></use><use xlink:href="#17_0" y="640.5" x="0"></use><use xlink:href="#arcrow" y="673.5" x="0"></use><use xlink:href="#18_0bc0" y="673.5" x="0"></use><use xlink:href="#18_0bc2" y="673.5" x="0"></use><use xlink:href="#18_0bc3" y="673.5" x="0"></use><g id="18_0_txt"><rect class="textbg" y="661.5" x="213.05" height="12" width="153.9"></rect><text y="670.5" x="290"><tspan>This is a broadcast message</tspan></text></g><use xlink:href="#arcrow" y="706.5" x="0"></use><use xlink:href="#19_0bc0" y="706.5" x="0"></use><use xlink:href="#19_0bc1" y="706.5" x="0"></use><use xlink:href="#19_0bc3" y="706.5" x="0"></use><g id="19_0_txt"><rect style="fill: purple; stroke:purple;" class="textbg" y="694.5" x="190.25" height="12" width="199.5"></rect><text style="fill:red;stroke:red;" y="703.5" x="290"><tspan>Broadcast, but lost to everyone :-(</tspan></text></g><use xlink:href="#arcrow" y="739.5" x="0"></use><use xlink:href="#20_0bc0" y="739.5" x="0"></use><use xlink:href="#20_0bc1" y="739.5" x="0"></use><use xlink:href="#20_0bc3" y="739.5" x="0"></use><g id="20_0_txt"><rect style="fill: purple; stroke:purple;" class="textbg" y="727.5" x="204.5" height="12" width="171"></rect><text style="fill:yellow;stroke:yellow;" y="736.5" x="290"><tspan>emphasised broadcast. No color</tspan></text></g><use xlink:href="#arcrowomit" y="772.5" x="0"></use><use xlink:href="#21_0" y="772.5" x="0"></use></g><g id="notelayer"><use xlink:href="#2_2" y="145.5" x="0"></use><use xlink:href="#14_0" y="541.5" x="0"></use><use xlink:href="#15_0" y="574.5" x="0"></use><use xlink:href="#15_1" y="574.5" x="0"></use><use xlink:href="#15_2" y="574.5" x="0"></use><use xlink:href="#15_3" y="574.5" x="0"></use></g></g></svg>