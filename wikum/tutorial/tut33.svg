<svg height="422" width="594" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="svg_output" version="1.1"><desc id="msc_source"># Generated by mscgen_js http://sverweij.github.io/mscgen_js
msc {
hscale="0.6";

  cust [label="customer"],
  ui [label="UI"],
  c [label="Controler", 
     linecolor="red", textbgcolor="yellow",
     arclinecolor="red", arctextcolor="red",
     arctextbgcolor="yellow"],
  a [label="Customer\nstore"],
  m [label="Model"],
  e [label="Event\nlogger"];

  cust =&gt;&gt; ui [label="Account\n(id, secret)?"];
  ui =&gt;&gt; c [label="Get account\ninfo"];
  c -&gt; e [label="log(id, 'getAccount', 'start')"];
  c =&gt; a [label="identify\n(id, secret)"];
  a &gt;&gt; c [label="token"];
  c =&gt; m [label="getAccount(id)"];
  m &gt;&gt; c [label="Account data"];
  c =&gt;&gt; c [label="mangle(Account Data)"];
  c -&gt; e [label="log(id, 'getAccount', 'OK')"];
  
  ui &lt;&lt; c [label="Account data"];
  ui =&gt;&gt; ui [label="render"];
}

</desc><defs><style type="text/css">svg {     font-family: Helvetica, sans-serif;     font-size: 9pt;     background-color: white;     stroke : black;     color  : black; } rect {     fill: none;     stroke: black;     stroke-width: 2; } .bglayer {     fill:white;     stroke: white;     stroke-width: 0; } rect.textbg {     fill:white;     stroke:white;     stroke-width:0; } line {     stroke: black;     stroke-width: 2; } .arcrowomit {     stroke-dasharray: 2,2; } text {     color: inherit;     stroke: none;     text-anchor: middle; } text.entity {     text-decoration : underline; } text.anchor-start {     text-anchor: start; } path {     stroke : black;     stroke-width : 2;     fill : none; } .dotted {     stroke-dasharray: 5,2; } .arrow-marker {     overflow:visible; } .arrow-style { 	stroke : black;     stroke-dasharray : 100,1; /* 'none' should work, but doesn't in webkit */     stroke-width : 1; } .filled {     stroke:inherit;     fill:black; /* no-inherit */ } .signal {     marker-end : url(#signal); } .signal-both {     marker-end : url(#signal);     marker-start : url(#signal-l); } .method {     marker-end : url(#method); } .method-both {     marker-end : url(#method);     marker-start : url(#method-l); } .returnvalue {     stroke-dasharray: 5,2;     marker-end : url(#callback); } .returnvalue-both {     stroke-dasharray: 5,2;     marker-end : url(#callback);     marker-start : url(#callback-l); } .callback {     marker-end : url(#callback); } .callback-both {     marker-end : url(#callback);     marker-start : url(#callback-l); } .emphasised {     marker-end : url(#method); } .emphasised-both {     marker-end : url(#method);     marker-start : url(#method-l); } .lost {     marker-end : url(#lost); } .arcrowomit {     stroke-dasharray: 2,2; } .box {     /* fill: #ffc;  no-inherit */     fill : white;     opacity: 0.9; } .boxtext, .arctext {     font-size: 0.8em;     text-anchor: middle; } .comment {     stroke-dasharray: 5,2; }</style><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="signal" orient="auto"><path class="arrow-style" d="M 9 3 l -8 2"></path></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="signal-l" orient="auto"><path class="arrow-style" d="M 9 3 l 8 2"></path></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="method" orient="auto"><polygon class="filled arrow-style" points="1,1 9,3 1,5"></polygon></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="method-l" orient="auto"><polygon class="filled arrow-style" points="17,1 9,3 17,5"></polygon></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="callback" orient="auto"><path class="arrow-style" d="M 1 1 l 8 2 l -8 2"></path></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="callback-l" orient="auto"><path class="arrow-style" d="M 17 1 l -8 2 l 8 2"></path></marker><marker markerHeight="10" markerWidth="10" markerUnits="strokeWidth" refY="3" refX="9" viewBox="0 0 10 10" class="arrow-marker" id="lost" orient="auto"><path class="arrow-style" d="M6.5,-0.5 L11.5,5.5 M6.5,5.5 L11.5,-0.5"></path></marker><g id="defs"><g id="cust"><rect style="" height="32" width="60"></rect><g id="cust_txt"><rect class="textbg" y="11" x="7.199999999999999" height="12" width="45.6"></rect><text class="entity" y="20" x="30"><tspan>customer</tspan></text></g></g><g id="ui"><rect style="" height="32" width="60"></rect><g id="ui_txt"><rect class="textbg" y="11" x="24.3" height="12" width="11.4"></rect><text class="entity" y="20" x="30"><tspan>UI</tspan></text></g></g><g id="c"><rect style="fill:yellow;stroke:red;" height="32" width="60"></rect><g id="c_txt"><rect style="fill: yellow; stroke:yellow;" class="textbg" y="11" x="4.349999999999998" height="12" width="51.300000000000004"></rect><text class="entity" y="20" x="30"><tspan>Controler</tspan></text></g></g><g id="a"><rect style="" height="32" width="60"></rect><g id="a_txt"><rect class="textbg" y="5" x="7.199999999999999" height="12" width="45.6"></rect><text class="entity" y="14" x="30"><tspan>Customer</tspan></text><rect class="textbg" y="19" x="15.75" height="12" width="28.5"></rect><text class="entity" y="28" x="30"><tspan>store</tspan></text></g></g><g id="m"><rect style="" height="32" width="60"></rect><g id="m_txt"><rect class="textbg" y="11" x="15.75" height="12" width="28.5"></rect><text class="entity" y="20" x="30"><tspan>Model</tspan></text></g></g><g id="e"><rect style="" height="32" width="60"></rect><g id="e_txt"><rect class="textbg" y="5" x="15.75" height="12" width="28.5"></rect><text class="entity" y="14" x="30"><tspan>Event</tspan></text><rect class="textbg" y="19" x="12.899999999999999" height="12" width="34.2"></rect><text class="entity" y="28" x="30"><tspan>logger</tspan></text></g></g><g id="arcrow"><line class="arcrow" y2="16" x2="30" y1="-16" x1="30"></line><line class="arcrow" y2="16" x2="126" y1="-16" x1="126"></line><line style="stroke : red;" class="arcrow" y2="16" x2="222" y1="-16" x1="222"></line><line class="arcrow" y2="16" x2="318" y1="-16" x1="318"></line><line class="arcrow" y2="16" x2="414" y1="-16" x1="414"></line><line class="arcrow" y2="16" x2="510" y1="-16" x1="510"></line></g><g id="arcrowomit"><line class="arcrowomit" y2="16" x2="30" y1="-16" x1="30"></line><line class="arcrowomit" y2="16" x2="126" y1="-16" x1="126"></line><line style="stroke : red;" class="arcrowomit" y2="16" x2="222" y1="-16" x1="222"></line><line class="arcrowomit" y2="16" x2="318" y1="-16" x1="318"></line><line class="arcrowomit" y2="16" x2="414" y1="-16" x1="414"></line><line class="arcrowomit" y2="16" x2="510" y1="-16" x1="510"></line></g><g id="0_0"><line class="callback" y2="0" x2="126" y1="0" x1="30"></line><g id="0_0_txt"><rect class="textbg" y="-13" x="58.05" height="12" width="39.9"></rect><text y="-4" x="78"><tspan>Account</tspan></text><rect class="textbg" y="1" x="40.949999999999996" height="12" width="74.10000000000001"></rect><text y="10" x="78"><tspan>(id, secret)?</tspan></text></g></g><g id="1_0"><line class="callback" y2="0" x2="222" y1="0" x1="126"></line><g id="1_0_txt"><rect class="textbg" y="-13" x="142.65" height="12" width="62.7"></rect><text y="-4" x="174"><tspan>Get account</tspan></text><rect class="textbg" y="1" x="162.6" height="12" width="22.8"></rect><text y="10" x="174"><tspan>info</tspan></text></g></g><g id="2_0"><line style="stroke: red;" class="signal" y2="0" x2="510" y1="0" x1="222"></line><g id="2_0_txt"><rect style="fill: yellow; stroke:yellow;" class="textbg" y="-13" x="280.5" height="12" width="171"></rect><text style="fill:red;" y="-4" x="366"><tspan>log(id, 'getAccount', 'start')</tspan></text><rect style="fill: yellow; stroke:yellow;" class="textbg" y="1" x="366" height="12" width="0"></rect><text style="fill:red;" y="10" x="366"><tspan></tspan></text></g></g><g id="3_0"><line style="stroke: red;" class="method" y2="0" x2="318" y1="0" x1="222"></line><g id="3_0_txt"><rect style="fill: yellow; stroke:yellow;" class="textbg" y="-13" x="247.2" height="12" width="45.6"></rect><text style="fill:red;" y="-4" x="270"><tspan>identify</tspan></text><rect style="fill: yellow; stroke:yellow;" class="textbg" y="1" x="235.8" height="12" width="68.4"></rect><text style="fill:red;" y="10" x="270"><tspan>(id, secret)</tspan></text></g></g><g id="4_0"><line class="returnvalue" y2="0" x2="222" y1="0" x1="318"></line><g id="4_0_txt"><rect class="textbg" y="-13" x="255.75" height="12" width="28.5"></rect><text y="-4" x="270"><tspan>token</tspan></text><rect class="textbg" y="1" x="270" height="12" width="0"></rect><text y="10" x="270"><tspan></tspan></text></g></g><g id="5_0"><line style="stroke: red;" class="method" y2="0" x2="414" y1="0" x1="222"></line><g id="5_0_txt"><rect style="fill: yellow; stroke:yellow;" class="textbg" y="-13" x="278.1" height="12" width="79.8"></rect><text style="fill:red;" y="-4" x="318"><tspan>getAccount(id)</tspan></text><rect style="fill: yellow; stroke:yellow;" class="textbg" y="1" x="318" height="12" width="0"></rect><text style="fill:red;" y="10" x="318"><tspan></tspan></text></g></g><g id="6_0"><line class="returnvalue" y2="0" x2="222" y1="0" x1="414"></line><g id="6_0_txt"><rect class="textbg" y="-13" x="283.8" height="12" width="68.4"></rect><text y="-4" x="318"><tspan>Account data</tspan></text><rect class="textbg" y="1" x="318" height="12" width="0"></rect><text y="10" x="318"><tspan></tspan></text></g></g><g id="7_0"><g style="stroke: red;" id="selfie"><path class="callback" d="M222, -6.4 l32,0 l0,12.8 l-32,0"></path></g><g id="7_0_txt"><rect style="fill: yellow; stroke:yellow;" class="textbg" y="-19.4" x="224" height="12" width="114"></rect><text style="fill:red;" class="anchor-start" y="-10.4" x="224"><tspan>mangle(Account Data)</tspan></text><rect style="fill: yellow; stroke:yellow;" class="textbg" y="-5.399999999999999" x="224" height="12" width="0"></rect><text style="fill:red;" class="anchor-start" y="3.5999999999999996" x="224"><tspan></tspan></text></g></g><g id="8_0"><line style="stroke: red;" class="signal" y2="0" x2="510" y1="0" x1="222"></line><g id="8_0_txt"><rect style="fill: yellow; stroke:yellow;" class="textbg" y="-13" x="289.05" height="12" width="153.9"></rect><text style="fill:red;" y="-4" x="366"><tspan>log(id, 'getAccount', 'OK')</tspan></text><rect style="fill: yellow; stroke:yellow;" class="textbg" y="1" x="366" height="12" width="0"></rect><text style="fill:red;" y="10" x="366"><tspan></tspan></text></g></g><g id="9_0"><line style="stroke: red;" class="returnvalue" y2="0" x2="126" y1="0" x1="222"></line><g id="9_0_txt"><rect style="fill: yellow; stroke:yellow;" class="textbg" y="-13" x="139.8" height="12" width="68.4"></rect><text style="fill:red;" y="-4" x="174"><tspan>Account data</tspan></text><rect style="fill: yellow; stroke:yellow;" class="textbg" y="1" x="174" height="12" width="0"></rect><text style="fill:red;" y="10" x="174"><tspan></tspan></text></g></g><g id="10_0"><g id="selfie"><path class="callback" d="M126, -6.4 l32,0 l0,12.8 l-32,0"></path></g><g id="10_0_txt"><rect class="textbg" y="-19.4" x="128" height="12" width="34.2"></rect><text class="anchor-start" y="-10.4" x="128"><tspan>render</tspan></text><rect class="textbg" y="-5.399999999999999" x="128" height="12" width="0"></rect><text class="anchor-start" y="3.5999999999999996" x="128"><tspan></tspan></text></g></g></g></defs><g transform="translate(27,3) scale(1,1)" id="body"><g id="__background"><rect class="bglayer" y="-3" x="-27" height="422" width="594"></rect></g><g id="sequence"><use xlink:href="#cust" y="0" x="0"></use><use xlink:href="#ui" y="0" x="96"></use><use xlink:href="#c" y="0" x="192"></use><use xlink:href="#a" y="0" x="288"></use><use xlink:href="#m" y="0" x="384"></use><use xlink:href="#e" y="0" x="480"></use><use xlink:href="#arcrow" y="48" x="0"></use><use xlink:href="#arcrow" y="80" x="0"></use><use xlink:href="#0_0" y="80" x="0"></use><use xlink:href="#arcrow" y="112" x="0"></use><use xlink:href="#1_0" y="112" x="0"></use><use xlink:href="#arcrow" y="144" x="0"></use><use xlink:href="#2_0" y="144" x="0"></use><use xlink:href="#arcrow" y="176" x="0"></use><use xlink:href="#3_0" y="176" x="0"></use><use xlink:href="#arcrow" y="208" x="0"></use><use xlink:href="#4_0" y="208" x="0"></use><use xlink:href="#arcrow" y="240" x="0"></use><use xlink:href="#5_0" y="240" x="0"></use><use xlink:href="#arcrow" y="272" x="0"></use><use xlink:href="#6_0" y="272" x="0"></use><use xlink:href="#arcrow" y="304" x="0"></use><use xlink:href="#7_0" y="304" x="0"></use><use xlink:href="#arcrow" y="336" x="0"></use><use xlink:href="#8_0" y="336" x="0"></use><use xlink:href="#arcrow" y="368" x="0"></use><use xlink:href="#9_0" y="368" x="0"></use><use xlink:href="#arcrow" y="400" x="0"></use><use xlink:href="#10_0" y="400" x="0"></use></g><g id="notelayer"></g></g></svg>